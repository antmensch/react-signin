import React, {useState, useRef} from "react";
import "./LoginForm.css"


export default function LoginForm({signup, error}) {
    const dateField = useRef(null);

    const [details, setDetails] = useState(
        {
            email: "",
            name: "",
            password: "",
            birthDate: "",
            gender: ""
    });

    const [passVisible, setPassVisible] = useState(false);
    console.log(passVisible);
    
    function handleSubmit(e) {
        e.preventDefault();
        signup(details);
    }

    function handleChange({target}) {
        setDetails(prev => ({
            ...prev,
            [target.name]: target.value
        }));
    }

    return (
        <>
        <header className='header'>Logo</header>
        <h2 className="appHeading">Getting Started</h2>
        <h4 className="appHeading subheading">Create an account to continue and connect with the people</h4>
        {/* ERROR */}
        <main className="formContainer">
            <form className="form" onSubmit={handleSubmit}>
                <section className="form--alternativeLoginContainer">
                    <button className="form--alternativeButton">
                    <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 11.6827C13.7387 12.484 13.3266 13.2853 12.7638 14.0865C11.8995 15.3429 11.0385 15.9712 10.1809 15.9712C9.8526 15.9712 9.38358 15.8686 8.77387 15.6635C8.19765 15.4583 7.69179 15.3558 7.25628 15.3558C6.84757 15.3558 6.37186 15.4615 5.82915 15.6731C5.28643 15.891 4.84422 16 4.50251 16C3.48409 16 2.47571 15.1699 1.47739 13.5096C0.492462 11.8365 0 10.2244 0 8.67308C0 7.21154 0.378559 6.01282 1.13568 5.07692C1.8928 4.15385 2.84422 3.69231 3.98995 3.69231C4.47236 3.69231 5.06533 3.78846 5.76884 3.98077C6.46566 4.17308 6.92797 4.26923 7.15578 4.26923C7.45729 4.26923 7.93635 4.16026 8.59297 3.94231C9.27638 3.72436 9.85595 3.61538 10.3317 3.61538C11.129 3.61538 11.8425 3.82372 12.4724 4.24038C12.8208 4.47115 13.1692 4.79167 13.5176 5.20192C12.9883 5.63141 12.6064 6.00962 12.3719 6.33654C11.9363 6.9391 11.7186 7.60256 11.7186 8.32692C11.7186 9.1218 11.9497 9.83654 12.4121 10.4712C12.8744 11.1058 13.4037 11.5096 14 11.6827ZM10.2211 0.403846C10.2211 0.794872 10.124 1.23077 9.92965 1.71154C9.72864 2.19231 9.41709 2.63462 8.99498 3.03846C8.63317 3.38462 8.27136 3.61538 7.90955 3.73077C7.66164 3.80128 7.31323 3.85577 6.86432 3.89423C6.88442 2.9391 7.14573 2.11538 7.64824 1.42308C8.14405 0.73718 8.98157 0.262821 10.1608 0C10.1675 0.0192308 10.1759 0.0544872 10.1859 0.105769C10.196 0.157051 10.2044 0.192308 10.2111 0.211538C10.2111 0.23718 10.2127 0.269231 10.2161 0.307692C10.2194 0.346154 10.2211 0.378205 10.2211 0.403846Z" fill="white"/>
                        <path d="M14 11.6827C13.7387 12.484 13.3266 13.2853 12.7638 14.0865C11.8995 15.3429 11.0385 15.9712 10.1809 15.9712C9.8526 15.9712 9.38358 15.8686 8.77387 15.6635C8.19765 15.4583 7.69179 15.3558 7.25628 15.3558C6.84757 15.3558 6.37186 15.4615 5.82915 15.6731C5.28643 15.891 4.84422 16 4.50251 16C3.48409 16 2.47571 15.1699 1.47739 13.5096C0.492462 11.8365 0 10.2244 0 8.67308C0 7.21154 0.378559 6.01282 1.13568 5.07692C1.8928 4.15385 2.84422 3.69231 3.98995 3.69231C4.47236 3.69231 5.06533 3.78846 5.76884 3.98077C6.46566 4.17308 6.92797 4.26923 7.15578 4.26923C7.45729 4.26923 7.93635 4.16026 8.59297 3.94231C9.27638 3.72436 9.85595 3.61538 10.3317 3.61538C11.129 3.61538 11.8425 3.82372 12.4724 4.24038C12.8208 4.47115 13.1692 4.79167 13.5176 5.20192C12.9883 5.63141 12.6064 6.00962 12.3719 6.33654C11.9363 6.9391 11.7186 7.60256 11.7186 8.32692C11.7186 9.1218 11.9497 9.83654 12.4121 10.4712C12.8744 11.1058 13.4037 11.5096 14 11.6827ZM10.2211 0.403846C10.2211 0.794872 10.124 1.23077 9.92965 1.71154C9.72864 2.19231 9.41709 2.63462 8.99498 3.03846C8.63317 3.38462 8.27136 3.61538 7.90955 3.73077C7.66164 3.80128 7.31323 3.85577 6.86432 3.89423C6.88442 2.9391 7.14573 2.11538 7.64824 1.42308C8.14405 0.73718 8.98157 0.262821 10.1608 0C10.1675 0.0192308 10.1759 0.0544872 10.1859 0.105769C10.196 0.157051 10.2044 0.192308 10.2111 0.211538C10.2111 0.23718 10.2127 0.269231 10.2161 0.307692C10.2194 0.346154 10.2211 0.378205 10.2211 0.403846Z" fill="#4E5D78"/>
                    </svg>
                        Log in with Google
                    </button>
                    <button className="form--alternativeButton">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.868572 4.408C1.54776 3.08259 2.58969 1.96841 3.8779 1.18998C5.16612 0.411541 6.64985 -0.000466855 8.16327 3.96985e-07C10.3633 3.96985e-07 12.2114 0.792 13.6245 2.084L11.2841 4.3784C10.4376 3.5856 9.36163 3.1816 8.16327 3.1816C6.03673 3.1816 4.23674 4.5896 3.59592 6.48C3.43265 6.96 3.33959 7.472 3.33959 8C3.33959 8.528 3.43265 9.04 3.59592 9.52C4.23755 11.4112 6.03673 12.8184 8.16327 12.8184C9.26122 12.8184 10.1959 12.5344 10.9273 12.0544C11.3514 11.7808 11.7144 11.4258 11.9944 11.0108C12.2745 10.5958 12.4658 10.1295 12.5567 9.64H8.16327V6.5456H15.8514C15.9478 7.0688 16 7.6144 16 8.1816C16 10.6184 15.1102 12.6696 13.5657 14.0616C12.2155 15.284 10.3673 16 8.16327 16C7.09113 16.0004 6.02942 15.7938 5.03881 15.3919C4.0482 14.99 3.14812 14.4007 2.39001 13.6578C1.63189 12.9148 1.03061 12.0328 0.620518 11.062C0.210428 10.0912 -0.000428458 9.05069 6.53644e-07 8C6.53644e-07 6.7088 0.315103 5.488 0.868572 4.408Z" fill="white"/>
                        <path d="M0.868572 4.408C1.54776 3.08259 2.58969 1.96841 3.8779 1.18998C5.16612 0.411541 6.64985 -0.000466855 8.16327 3.96985e-07C10.3633 3.96985e-07 12.2114 0.792 13.6245 2.084L11.2841 4.3784C10.4376 3.5856 9.36163 3.1816 8.16327 3.1816C6.03673 3.1816 4.23674 4.5896 3.59592 6.48C3.43265 6.96 3.33959 7.472 3.33959 8C3.33959 8.528 3.43265 9.04 3.59592 9.52C4.23755 11.4112 6.03673 12.8184 8.16327 12.8184C9.26122 12.8184 10.1959 12.5344 10.9273 12.0544C11.3514 11.7808 11.7144 11.4258 11.9944 11.0108C12.2745 10.5958 12.4658 10.1295 12.5567 9.64H8.16327V6.5456H15.8514C15.9478 7.0688 16 7.6144 16 8.1816C16 10.6184 15.1102 12.6696 13.5657 14.0616C12.2155 15.284 10.3673 16 8.16327 16C7.09113 16.0004 6.02942 15.7938 5.03881 15.3919C4.0482 14.99 3.14812 14.4007 2.39001 13.6578C1.63189 12.9148 1.03061 12.0328 0.620518 11.062C0.210428 10.0912 -0.000428458 9.05069 6.53644e-07 8C6.53644e-07 6.7088 0.315103 5.488 0.868572 4.408Z" fill="#4E5D78"/>
                    </svg>
                        Log in with Apple
                    </button>
                </section>

                <section className="form--dividerContainer">
                    <hr className="form--divider" />
                    <span className="form--dividerText">OR</span>
                    <hr className="form--divider" />
                </section>

                <section className="form--credentialsContainer">
                    <div className="form--textInputBox">
                        <input
                            className="form--textInput"
                            type="email" 
                            name="email"
                            id="email"
                            placeholder="Your Email"
                            onChange={e => handleChange(e)}
                            value={details.email}
                        />
                        <svg xmlns="http://www.w3.org/2000/svg" 
                            viewBox="0 0 512 512"
                            width="16px"
                            height="16px"
                            className="form--inputIcon">
                                <path d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/>
                                </svg>
                    </div>
                    <div className="form--textInputBox">
                        <input
                            className="form--textInput"
                            type="text" 
                            name="name"
                            id="name"
                            placeholder="Your Name"
                            onChange={e => handleChange(e)}
                            value={details.name}
                        />
                        <svg 
                            xmlns="http://www.w3.org/2000/svg" 
                            viewBox="0 0 512 512"
                            width="16px"
                            height="16px"
                            className="form--inputIcon">
                                <path d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM164.1 325.5C158.3 318.8 148.2 318.1 141.5 323.9C134.8 329.7 134.1 339.8 139.9 346.5C162.1 372.1 200.9 400 255.1 400C311.1 400 349.8 372.1 372.1 346.5C377.9 339.8 377.2 329.7 370.5 323.9C363.8 318.1 353.7 318.8 347.9 325.5C329.9 346.2 299.4 368 255.1 368C212.6 368 182 346.2 164.1 325.5H164.1zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"/>
                        </svg>
                    </div>
                    <div className="form--textInputBox">
                        <input 
                            className="form--textInput"
                            type={passVisible ? "text" : "password"}
                            name="password"
                            placeholder="Create Password"
                            onChange={e => handleChange(e)}
                            value={details.password}
                        />
                        <svg 
                            xmlns="http://www.w3.org/2000/svg" 
                            viewBox="0 0 448 512"
                            width="16px"
                            height="16px"
                            className="form--inputIcon">
                            <path d="M80 192V144C80 64.47 144.5 0 224 0C303.5 0 368 64.47 368 144V192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H80zM144 192H304V144C304 99.82 268.2 64 224 64C179.8 64 144 99.82 144 144V192z"/>
                        </svg>
            
                        <svg 
                            xmlns="http://www.w3.org/2000/svg" 
                            viewBox="0 0 640 512"
                            width="16px"
                            height="16px"
                            className="form--passIcon"
                            onClick={() => setPassVisible(prev => !prev)}>
                            <path d={passVisible ? "M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z" : "M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z"}/>
                        </svg>
                    </div>
        
                    <div className="form--birthGenderSubset">
                        <div className="form--textInputBox">
                            <input 
                                className="form--dateInput"
                                type="text"
                                name="birthDate"
                                ref={dateField}
                                onFocus={() => dateField.current.type="date"}
                                onBlur={() => dateField.current.type="text"}
                                onChange={e => handleChange(e)}
                                value={details.birthDate}
                            />
                            <svg 
                                xmlns="http://www.w3.org/2000/svg" 
                                viewBox="0 0 448 512"
                                width="16px"
                                height="16px"
                                className="form--inputIcon">
                                <path d="M152 64H296V24C296 10.75 306.7 0 320 0C333.3 0 344 10.75 344 24V64H384C419.3 64 448 92.65 448 128V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V128C0 92.65 28.65 64 64 64H104V24C104 10.75 114.7 0 128 0C141.3 0 152 10.75 152 24V64zM48 448C48 456.8 55.16 464 64 464H384C392.8 464 400 456.8 400 448V192H48V448z"/>
                            </svg>
                        </div>
                        
                            
                            <fieldset className="form--radiosFieldset">
                                <svg 
                                    xmlns="http://www.w3.org/2000/svg" 
                                    viewBox="0 0 448 512"
                                    width="16px"
                                    height="16px"
                                    className="form--inputIcon"
                                    display="initial">
                                    <path d={details.gender === "male" ? "M431.1 31.1l-112.6 0c-21.42 0-32.15 25.85-17 40.97l29.61 29.56l-56.65 56.55c-30.03-20.66-65.04-31-100-31c-47.99-.002-95.96 19.44-131.1 58.39c-60.86 67.51-58.65 175 4.748 240.1C83.66 462.2 129.6 480 175.5 480c45.12 0 90.34-17.18 124.8-51.55c61.11-60.99 67.77-155.6 20.42-224.1l56.65-56.55l29.61 29.56C411.9 182.2 417.9 184.4 423.8 184.4C436.1 184.4 448 174.8 448 160.4V47.1C448 39.16 440.8 31.1 431.1 31.1zM243.5 371.9c-18.75 18.71-43.38 28.07-68 28.07c-24.63 0-49.25-9.355-68.01-28.07c-37.5-37.43-37.5-98.33 0-135.8c18.75-18.71 43.38-28.07 68.01-28.07c24.63 0 49.25 9.357 68 28.07C281 273.5 281 334.5 243.5 371.9z" : details.gender === "female" ? "M368 176c0-97.2-78.8-176-176-176c-97.2 0-176 78.8-176 176c0 86.26 62.1 157.9 144 172.1v35.05H112c-8.836 0-16 7.162-16 16v32c0 8.836 7.164 16 16 16H160v48c0 8.836 7.164 16 16 16h32c8.838 0 16-7.164 16-16v-48h48c8.838 0 16-7.164 16-16v-32c0-8.838-7.162-16-16-16H224v-35.05C305.9 333.9 368 262.3 368 176zM192 272c-52.93 0-96-43.07-96-96c0-52.94 43.07-96 96-96c52.94 0 96 43.06 96 96C288 228.9 244.9 272 192 272z" : ""}/>
                                </svg>
                                
                                <input className="form--radioInput"
                                        type="radio"
                                        name="gender"
                                        value="male"
                                        id="male"
                                        checked={details.gender === 'male'}
                                        onChange={e => handleChange(e)}
                                />
                                <label className="form--radioLabel" htmlFor="male">Male</label>

                                <input className="form--radioInput"
                                    type="radio"
                                    name="gender"
                                    value="female"
                                    id="female"
                                    checked={details.gender === 'female'}
                                    onChange={e => handleChange(e)}
                                />
                                <label className="form--radioLabel" htmlFor="female">Female</label>
                            </fieldset>
                    </div>
                </section>
                <button className="form--submitButton">Sign Up</button>
                <p className="form--haveAccount">Already have an account? <a className="form--signInLink" href="#">Sign In</a></p>
            </form>
        </main>
        </>
    );
}